"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[469],{9469:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(1413),s=n(4165),a=n(5861),i=n(3433),c=n(9439),l=n(7689),u=n(1087),o=n(4456),d=n(9230),m=n(9434),h=n(2791),b=n(6652),p=n(788),x=n(5304),f=n(9085),j=n(2675),v=n(4539),N=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.post(j._+"/api/album/".concat(t,"/collections/bulk-create"),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=n(184),y={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},k=function(){var e=(0,l.UO)().albumId,t=(0,o.T)(),n=(0,d.$G)(),j=(0,c.Z)(n,1)[0],v=(0,m.v9)((function(e){return e.albumDetailCollection})).albumDetail,k=(0,h.useState)([]),_=(0,c.Z)(k,2),w=_[0],Z=_[1],C=(0,h.useState)(null),z=(0,c.Z)(C,2),S=z[0],I=z[1],P=(0,h.useState)(!1),D=(0,c.Z)(P,2),T=D[0],A=D[1],B=(0,h.useCallback)((function(e){Z([].concat((0,i.Z)(w),(0,i.Z)(e)))}),[w]),E=(0,p.uI)({accept:{"image/*":[]},onDrop:B}),M=E.getRootProps,U=E.getInputProps;(0,h.useEffect)((function(){t((0,b.sg)({id:e}))}),[t,e]);var F=(0,h.useMemo)((function(){if(w.length>0){if(0==w.length)return[];var e=w[0],t=e.path.split("/").length>3,n=e.path.split("/").length>2;if(t){var r=w.reduce((function(e,t){var n=t.path.split("/")[2],r=e.find((function(e){return e.name===n}));return r?r.contentItems.push({name:t.name,size:t.size}):e.push({name:n,isPriority:T,contentItems:[{name:t.name,size:t.size}]}),e}),[]);return I(e.path.split("/")[1]),r}if(n){var s=w.reduce((function(e,t){var n=t.path.split("/")[1],r=e.find((function(e){return e.name===n}));return r?r.contentItems.push({name:t.name,size:t.size}):e.push({name:n,isPriority:T,contentItems:[{name:t.name,size:t.size}]}),e}),[]);return I(null),s}I(null)}return[]}),[w]),R=(0,h.useMemo)((function(){return F.sort((function(e,t){return x.t.getNumberByText(e.name)-x.t.getNumberByText(t.name)})).map((function(e,t){return(0,g.jsxs)("li",{children:[e.name,(0,g.jsx)("button",{className:"btn",onClick:function(){return t=e.name,void Z(w.filter((function(e){return e.path.split("/")[1]!==t})));var t},children:(0,g.jsx)("i",{className:"fa-solid fa-trash text-danger font-16"})}),(0,g.jsx)("ul",{children:e.contentItems.sort((function(e,t){return x.t.getNumberByText(e.name)-x.t.getNumberByText(t.name)})).map((function(e,t){return(0,g.jsxs)("li",{children:[e.name," - ",e.size," bytes"]},t)}))})]},t)}))}),[F]),G=function(){var t=(0,a.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.Am.loading(j("toast.please_wait"),{hideProgressBar:!0}),t.next=3,N(e,F);case 3:200===t.sent.status&&f.Am.update(n,{render:j("toast.create_sucessfully"),type:f.Am.TYPE.SUCCESS,isLoading:!1,autoClose:2e3}),f.Am.done(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"page-wrapper",children:(0,g.jsx)("div",{className:"page-content-tab",children:(0,g.jsxs)("div",{className:"container-fluid",children:[(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-sm-12",children:(0,g.jsxs)("div",{className:"page-title-box",children:[(0,g.jsx)("div",{className:"float-end",children:(0,g.jsxs)("ol",{className:"breadcrumb",children:[(0,g.jsx)("li",{className:"breadcrumb-item",children:(0,g.jsx)("a",{href:"crm-contacts.html#",children:"Dashboard"})}),(0,g.jsx)("li",{className:"breadcrumb-item",children:(0,g.jsx)("a",{href:"crm-contacts.html#",children:"CMS"})}),(0,g.jsx)("li",{className:"breadcrumb-item active",children:"Album Detail"}),(0,g.jsx)("li",{className:"breadcrumb-item active",children:(0,g.jsx)(u.rU,{to:"/albums/".concat(e),children:null===v||void 0===v?void 0:v.title})}),(0,g.jsx)("li",{className:"breadcrumb-item active",children:j("album_detail.bulk_create")})]})}),(0,g.jsx)("h4",{className:"page-title",children:j("album_detail.bulk_create")})]})})}),(0,g.jsx)("div",{className:"row mb-3",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)("div",{className:"card",children:[(0,g.jsxs)("div",{className:"card-header",children:[(0,g.jsx)("div",{className:"row align-items-center",children:(0,g.jsxs)("div",{className:"col",children:[(0,g.jsx)("h4",{className:"card-title",children:j("album_detail.bulk_create_sub_title")}),(0,g.jsx)("p",{className:"text-muted mb-0",children:j("album_detail.bulk_create_sub_description")})]})})," "]}),(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){Z([]),I(null)},children:j("content_item.reset")}),(0,g.jsx)("button",{type:"button",className:"btn btn-primary",onClick:G,children:j("content_item.upload_button")}),(0,g.jsxs)("div",{className:"d-grid mt-2",children:[(0,g.jsxs)("div",(0,r.Z)((0,r.Z)({},M({className:"dropzone",style:y})),{},{children:[(0,g.jsx)("input",(0,r.Z)({},U())),(0,g.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]})),(0,g.jsxs)("aside",{children:[(0,g.jsxs)("div",{className:"form-check form-switch form-switch-success my-3",children:[(0,g.jsx)("label",{className:"form-check-label",htmlFor:"customSwitchPrimary",children:j("album_detail.spre_priority")}),(0,g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"customSwitchPrimary",checked:T,onChange:function(){return A(!T)}})]}),(0,g.jsx)("h4",{children:j("album_detail.bulk_create_Preview")}),S&&(0,g.jsx)("h4",{className:"text-primary",children:S}),(0,g.jsx)("ul",{children:R})]})]})]})]})})," "]})})})]})})})})}}}]);
//# sourceMappingURL=469.65c3a7ee.chunk.js.map